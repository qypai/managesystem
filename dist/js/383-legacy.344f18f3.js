(self["webpackChunkmanagement"]=self["webpackChunkmanagement"]||[]).push([[383],{15805:function(e,t,n){"use strict";n.d(t,{Z:function(){return u}});var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",e._l(e.tags,(function(t,a){return n("el-tag",{key:t.path,attrs:{closable:"","disable-transitions":!1,size:"mini",effect:e.light(t)},on:{close:function(n){return e.handleClose(t,a)},click:function(n){return e.change(t,a)}}},[e._v(" "+e._s(t.label)+" ")])})),1)},r=[],o=(n(40561),n(68309),{name:"tags",data:function(){return{}},computed:{tags:function(){return this.$store.state.tab.tabsList}},methods:{handleClose:function(e,t){var n=this.$store.state.tab.tabsList;if(0==t)this.$message.error("不可移除");else{n.splice(t,1);var a=n.length-1;this.$router.push({name:n[a].name}),this.$store.commit("updateclose",e)}},light:function(e){return this.$route.name===e.name?"dark":"plain"},change:function(e,t){var n=this.$store.state.tab.tabsList,a=n[t].name;this.$router.push({name:a}),this.$store.commit("headermenu",e)}}}),i=o,l=n(1001),s=(0,l.Z)(i,a,r,!1,null,null,null),u=s.exports},58383:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return _}});var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("tags"),n("div",{staticClass:"manage-header"},[n("el-button",{attrs:{type:"button",size:"mini"},on:{click:e.adduser}},[e._v("+新增")]),n("div",{staticClass:"search"},[n("commonform",{attrs:{form:e.searchform,formLabel:e.sformlabel,inline:!0}}),n("el-button",{attrs:{type:"button",size:"mini"},on:{click:e.search}},[e._v("搜索")])],1)],1),n("el-dialog",{attrs:{title:!0===e.add?"新增书本":"编辑书本",visible:e.dialogVisible,width:"45%"},on:{"update:visible":function(t){e.dialogVisible=t}}},[n("commonform",{attrs:{form:e.operateform,formLabel:e.operateFormLabel,inline:!0}}),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:function(t){e.dialogVisible=!1}}},[e._v("取 消")]),n("el-button",{attrs:{type:"primary"},on:{click:e.confirm}},[e._v("确 定")])],1)],1),n("commontable",{attrs:{tableData:e.tablebookData,tableLabel:e.tablelabel},on:{delete:e.Delete,updateb:e.upDateb}})],1)},r=[],o=(n(68309),n(40561),n(16296)),i=n(15805),l=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-form",{ref:"form",attrs:{"label-width":"70px",model:e.form,inline:e.inline,size:"mini"}},[e._l(e.formLabel,(function(t){return n("el-form-item",{key:t.label,attrs:{label:t.label}},["input"===t.type?n("el-input",{attrs:{placeholder:"请输入"+t.label},model:{value:e.form[t.model],callback:function(n){e.$set(e.form,t.model,n)},expression:"form[item.model]"}}):e._e(),"select"===t.type?n("el-select",{attrs:{placeholder:"请选择"+t.label}},e._l(t.opts,(function(e){return n("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1):e._e(),"date"===t.type?n("el-date-picker",{attrs:{type:"date",placeholder:"选择日期"},model:{value:e.form[t.model],callback:function(n){e.$set(e.form,t.model,n)},expression:"form[item.model]"}}):e._e()],1)})),n("el-form-item",[e._t("default")],2)],2)},s=[],u={name:"commonform",props:{formLabel:Array,form:Object,inline:Boolean},data:function(){return{}}},c=u,f=n(1001),m=(0,f.Z)(c,l,s,!1,null,null,null),d=m.exports,p=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("el-table",{attrs:{data:e.tableData,stripe:""}},[e._l(e.tableLabel,(function(t){return n("el-table-column",{key:t.prop,attrs:{"show-overflow-tooltip":"",label:t.label,width:"180"},scopedSlots:e._u([{key:"default",fn:function(a){return[n("span",[e._v(e._s(a.row[t.prop]))])]}}],null,!0)})})),n("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-button",{attrs:{size:"mini"},on:{click:function(n){return e.handleEdit(t.row,t.$index)}}},[e._v("编辑")]),n("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(n){return e.handleDelete(t.row,t.$index)}}},[e._v("删除")])]}}])})],2)],1)},b=[],h={name:"commontable",props:{tableData:Array,tableLabel:Array},data:function(){return{}},methods:{handleDelete:function(e,t){var n=this;this.$confirm("此操作将永久删除该内容, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){var a=e.id,r=t;n.$emit("delete",{num:a,ind:r}),n.$message({type:"success",message:"删除成功!"})}))},handleEdit:function(e,t){var n=t;this.$store.state.tab.editdata=e,this.$store.state.tab.editindex=n,this.$emit("updateb")}}},v=h,g=(0,f.Z)(v,p,b,!1,null,null,null),y=g.exports,w={name:"User",components:{tags:i.Z,commonform:d,commontable:y},mounted:function(){this.getdata()},data:function(){return{operateFormLabel:[{model:"name",label:"书名",type:"input"},{model:"alias",label:"英文书名",type:"input"}],operateform:{name:"",alias:""},add:!0,dialogVisible:!1,sformlabel:[{model:"keyword",label:"",type:"input"}],searchform:{keyword:""},tablebookData:[],tablelabel:[{prop:"name",label:"书名"},{prop:"alias",label:"英文书名"}]}},methods:{getdata:function(){var e=this;(0,o.hx)().then((function(t){var n=t.data,a=n.data,r=n.status;0==r&&(e.tablebookData=a)}))},confirm:function(){var e=this;if(this.add)(0,o.b$)(this.operateform.name,this.operateform.alias).then((function(){e.getdata(),e.dialogVisible=!1}));else{var t=this.$store.state.tab.editdata.id,n=this.$store.state.tab.editindex,a=this.tablebookData,r=this.operateform.name,i=this.operateform.alias;(0,o.Kd)(r,i,t).then(this.$set(a,n,{name:r,alias:i})),this.dialogVisible=!1}},Delete:function(e){(0,o.Fi)(e.num).then(this.tablebookData.splice(e.ind,1))},upDateb:function(){this.dialogVisible=!0,this.add=!1,this.operateform={name:this.$store.state.tab.editdata.name,alias:this.$store.state.tab.editdata.alias}},search:function(){},adduser:function(){this.dialogVisible=!0,this.add=!0,this.operateform={name:"",alias:""}}}},k=w,$=(0,f.Z)(k,a,r,!1,null,"068b91b8",null),_=$.exports},49337:function(e,t,n){var a=n(82109),r=n(19781),o=n(53887),i=n(45656),l=n(31236),s=n(86135);a({target:"Object",stat:!0,sham:!r},{getOwnPropertyDescriptors:function(e){var t,n,a=i(e),r=l.f,u=o(a),c={},f=0;while(u.length>f)n=r(a,t=u[f++]),void 0!==n&&s(c,t,n);return c}})},16296:function(e,t,n){"use strict";n.d(t,{b$:function(){return v},Fi:function(){return g},Yu:function(){return b},hx:function(){return h},Hl:function(){return k},Kd:function(){return w}});n(47941),n(82526),n(57327),n(41539),n(38880),n(54747),n(49337);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}n(21703);function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function s(e,t,n){return t&&l(e.prototype,t),n&&l(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var u=n(26166),c=n.n(u),f={baseUrl:{dev:"/api/",pro:""}},m=(f.baseUrl.pro,function(){function e(t){i(this,e),this.baseUrl=t}return s(e,[{key:"getInsideConfig",value:function(){var e={baseUrl:this.baseUrl,header:{}};return e}},{key:"interceptors",value:function(e){e.interceptors.request.use((function(e){return e}),(function(e){return Promise.reject(e)})),c().interceptors.response.use((function(e){return e}),(function(e){return Promise.reject(e)}))}},{key:"request",value:function(e){var t=c().create();return e=o(o({},this.getInsideConfig()),e),this.interceptors(t),t(e)}}]),e}()),d=new m;function p(e,t,n){return"get"==t?d.request({url:e,method:"get",data:n}):d.request({url:e,method:"post",data:n,headers:{"Content-Type":"application/x-www-form-urlencoded"},transformRequest:[function(e){var t="";for(var n in e)t+=encodeURIComponent(n)+"="+encodeURIComponent(e[n])+"&";return t}]})}var b=function(){var e="/home/getData",t="get";return p(e,t)},h=function(e){return d.request({url:"http://127.0.0.1:3007/api/article/cates",method:"get",data:e})},v=function(e,t){var n="http://127.0.0.1:3007/api/article/addcates",a="post",r={name:e,alias:t};return p(n,a,r)},g=function(e){return d.request({url:"http://127.0.0.1:3007/api/article/deletecate/".concat(e),method:"get"})},y="http://127.0.0.1:3007/api/article",w=function(e,t,n){return d.request({url:"".concat(y,"/updatecate"),method:"post",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:{name:e,alias:t,Id:n},transformRequest:[function(e){var t="";for(var n in e)t+=encodeURIComponent(n)+"="+encodeURIComponent(e[n])+"&";return t}]})},k=function(e,t){var n="http://127.0.0.1:3007/api/login",a="post",r={username:e,password:t};return p(n,a,r)}}}]);
//# sourceMappingURL=383-legacy.344f18f3.js.map